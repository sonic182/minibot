# Runtime mode and verbosity.
[runtime]
# Production note: use "INFO" (or "WARNING") here and set `environment = "production"`.
log_level = "DEBUG"
environment = "development"

# Telegram adapter settings.
[channels.telegram]
enabled = true
bot_token = ""
allowed_chat_ids = []
allowed_user_ids = []
require_authorized = false
mode = "long_polling"
webhook_url = ""
media_enabled = true
max_photo_bytes = 5242880
max_document_bytes = 10485760
max_total_media_bytes = 12582912
max_attachments_per_message = 3
allowed_document_mime_types = []

# LLM provider and generation settings.
[llm]
provider = "openai_responses"
api_key = ""
model = "gpt-5-mini"
temperature = 0.2
send_temperature = false                                #Â gpt-5-mini doens't allow it
max_new_tokens = 512
max_tool_iterations = 15
system_prompt = "You are Minibot, a helpful assistant."
reasoning_effort = "medium"

# Conversation memory persistence.
[memory]
backend = "sqlite"
sqlite_url = "sqlite+aiosqlite:///./data/minibot.db"
max_history_messages = 200

# Scheduled prompt storage and polling.
[scheduler.prompts]
enabled = true
sqlite_url = "sqlite+aiosqlite:///./data/scheduled_prompts.db"
poll_interval_seconds = 60
lease_timeout_seconds = 120
batch_size = 10
max_attempts = 3
min_recurrence_interval_seconds = 60
pool_size = 5
echo = false

# Optional key/value memory tool.
[tools.kv_memory]
enabled = false
sqlite_url = "sqlite+aiosqlite:///./data/kv_memory.db"
pool_size = 5
echo = false
default_limit = 20
max_limit = 100
default_owner_id = "primary"

# Optional HTTP fetch tool.
[tools.http_client]
enabled = false
timeout_seconds = 10
max_bytes = 16384
response_processing_mode = "auto"
max_chars = 6000
normalize_whitespace = true

# Built-in calculator tool.
[tools.calculator]
enabled = true
default_scale = 28
max_expression_length = 200
max_exponent_abs = 1000

# Python code execution tool.
[tools.python_exec]
enabled = true
backend = "host"
python_path = ""
venv_path = ""
sandbox_mode = "basic"
default_timeout_seconds = 8
max_timeout_seconds = 20
max_output_bytes = 64000
max_code_bytes = 32000
pass_parent_env = false
env_allowlist = ["PATH", "LANG", "LC_ALL", "PYTHONUTF8"]

# RLIMIT sandbox parameters.
[tools.python_exec.rlimit]
enabled = false
cpu_seconds = 2
memory_mb = 256
fsize_mb = 16
nproc = 64
nofile = 256

# Cgroup sandbox parameters.
[tools.python_exec.cgroup]
enabled = false
driver = "systemd"
cpu_quota_percent = 100
memory_max_mb = 256

# External jail wrapper settings.
[tools.python_exec.jail]
enabled = false
command_prefix = []

# Structured logging output.
[logging]
structured = true
logfmt_enabled = true
# Production note: set to "INFO" to reduce verbosity.
log_level = "DEBUG"
kv_separator = "="
record_separator = " "
